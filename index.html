<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="w-[100ww] h-[100vh]">

    <!-- Menu -->
    <div class="flex justify-center z-50" id="menu">
        <div class="p-32">
            <div class="text-4xl text-blue-400 font-bold my-3">Macan AI</div>
            <div class="flex justify-center my-3">
                <button class="z-50 bg-blue-300 px-4 py-2 rounded-lg text-white" onclick="changePage('play')" id="playversus">Play Versus</button>
            </div>
            <!-- <div class="flex justify-center my-3">
                <button class="bg-blue-300 px-4 py-2 rounded-lg text-white" onclick="changePage('play')">Play AI</button>
            </div>
            <div class="flex justify-center my-3">
                <button class="bg-blue-300 px-4 py-2 rounded-lg text-white" onclick="changePage('play')">Play AI as Macan</button>
            </div>
            <div class="flex justify-center my-3">
                <button class="bg-blue-300 px-4 py-2 rounded-lg text-white" onclick="changePage('play')">Play AI vs AI</button>
            </div> -->
        </div>
    </div>


    <!-- Arena -->
     <div id="messageContainer" class="fixed bottom-0 w-[100vw] py-10">
        <div class="flex justify-center">
            <div class="bg-blue-300 p-5 rounded-lg" id="messageText">
                
            </div>
        </div>
     </div>
    <div id="arena" class="fixed top-52 left-96 ">
        <svg width="882" height="700" class="absolute top-0 left-0 z-0">
            <line x1="1" y1="40" x2="1" y2="360" stroke="black" stroke-width="2" />
            <line x1="80" y1="111" x2="80" y2="289" stroke="black" stroke-width="2" />
            <line x1="1" y1="40" x2="180" y2="200" stroke="black" stroke-width="2" />
            <line x1="1" y1="360" x2="180" y2="200" stroke="black" stroke-width="2" />


            <line x1="180" y1="1" x2="180" y2="400" stroke="black" stroke-width="2" />
            <line x1="280" y1="1" x2="280" y2="400" stroke="black" stroke-width="2" />
            <line x1="380" y1="1" x2="380" y2="400" stroke="black" stroke-width="2" />
            <line x1="480" y1="1" x2="480" y2="400" stroke="black" stroke-width="2" />
            <line x1="580" y1="1" x2="580" y2="400" stroke="black" stroke-width="2" />

            <line x1="180" y1="1" x2="580" y2="1" stroke="black" stroke-width="2" />
            <line x1="180" y1="100" x2="580" y2="100" stroke="black" stroke-width="2" />
            <line x1="0" y1="200" x2="760" y2="200" stroke="black" stroke-width="2" />
            <line x1="180" y1="300" x2="580" y2="300" stroke="black" stroke-width="2" />
            <line x1="180" y1="400" x2="580" y2="400" stroke="black" stroke-width="2" />



            <line x1="680" y1="111" x2="680" y2="289" stroke="black" stroke-width="2" />
            <line x1="760" y1="40" x2="760" y2="360" stroke="black" stroke-width="2" />
            <line x1="580" y1="200" x2="760" y2="40" stroke="black" stroke-width="2" />
            <line x1="580" y1="200" x2="760" y2="360" stroke="black" stroke-width="2" />
        </svg>

        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[10px] left-[-30px]  playButton" ></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[170px] left-[-30px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[330px] left-[-30px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[81px] left-[50px]  playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[170px] left-[50px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[259px] left-[50px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[-30px] left-[150px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[70px] left-[150px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[170px] left-[150px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[270px] left-[150px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[370px] left-[150px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[-30px] left-[250px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[70px] left-[250px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[170px] left-[250px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[270px] left-[250px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[370px] left-[250px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[-30px] left-[350px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[70px] left-[350px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[170px] left-[350px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[270px] left-[350px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[370px] left-[350px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[-30px] left-[450px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[70px] left-[450px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[170px] left-[450px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[270px] left-[450px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[370px] left-[450px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[-30px] left-[550px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[70px] left-[550px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[170px] left-[550px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[270px] left-[550px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[370px] left-[550px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[81px] left-[650px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[170px] left-[650px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[259px] left-[650px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[10px] left-[730px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[170px] left-[730px] playButton"></button>
        <button class="z-0 absolute rounded-full bg-green-300 w-[60px] h-[60px] top-[330px] left-[730px] playButton"></button>
    </div>
    <script>
        // ========================= SETUP VARIABLE =====================================
        // ==============================================================================
        // ==============================================================================
        // ==============================================================================
        // ==============================================================================
        // ==============================================================================

        // Variabel untuk mengatur view halaman
        let page = "menu"
        const arena = document.getElementById("arena")
        const menu = document.getElementById("menu")
        const messageContainer = document.getElementById("messageContainer")
        const messageText = document.getElementById('messageText')

        //variable semua button yang ada di arena
        let arenaButtons = document.querySelectorAll(".playButton")

        // ==============================================================================
        // ==============================================================================
        // ==============================================================================
        // ==============================================================================
        // ==============================================================================




        // ========================= PLAY VARIABLE =====================================
        // ==============================================================================
        // ==============================================================================
        // ==============================================================================
        // ==============================================================================
        // ==============================================================================


        let gamePlayed = false;
        let setupPhase = false;
        let gamePhase = false;
        // Variabel turn, boolean untuk 2 player. True = player 1, false = player 2
        let turn = true;
        let setupKambingCount = 9



        // ==============================================================================
        // ==============================================================================
        // ==============================================================================
        // ==============================================================================
        // ==============================================================================


        const getMessageHTML = (title="",message="") => {
            return `
                <div class="text-2xl text-center text-white font-semibold ${title != ""?"pb-5":""}">${title}</div>
                <div class="text-lg text-white font-normal text-center">${message}</div>
            `
        }

        const showMessage = (title="",message="") => {
            messageContainer.style.opacity = 1
            messageText.innerHTML = getMessageHTML(title,message)
        }

        const hideMessage = () => {
            messageContainer.style.opacity = 0
            messageText.innerHTML = ""
        }

        hideMessage()



        //toggle switch buat disable button menu
        const menuInputHandler = () => {
            document.getElementById("playversus").disabled = !document.getElementById("playversus").disabled
        }

        // toggle switch buat disable button arena
        const arenaInputHandler = () => {
            arenaButtons.forEach(b => {
                b.disabled = !b.disabled
            });
        }

        //Buat ngecek index dari seluruh button arena di dalam variabel arenaButtons
        const renderKambingTest = () => {
            arenaButtons.forEach((b,index)=>{
                b.innerHTML = index
            })
        }


        const setupKambing = () => {

        }


        // Function untuk inti dari game playing
        const startGame = () => {
            while(gamePlayed){
                if(turn){
                    if(setupPhase == true){
                        //Setup kambing
                        setupKambing()
                        showMessage("Player 1's Turn!",`You have to place ${setupKambingCount} more kambing!`)
                    }
                    // Switch turn
                    turn = !turn 
                }else{
                    if(setupPhase == true){
                        // Setup macan


                        setupPhase = false
                    }
                    // Switch turn
                    turn = !turn
                }
                gamePlayed = false
            }
        }




        //Function buat nunjukin skrng viewing apa, menu atau arenanya
        const renderPage = (status) =>{
            if(status == "menu"){
                menu.style.opacity = 1
                arena.style.opacity=0
            }else{
                menu.style.opacity =0
                arena.style.opacity=1
                renderKambingTest()
                gamePlayed = true;
                setupPhase = true;
                startGame()
            }
        }


        renderPage(page)
        // Disable button arena karena setup awal
        arenaInputHandler()


        //Function yang digunakan untuk switch mode playing dan mode menu
        const changePage = (setPage) => {
            console.log("clicked");
            page = setPage
            menuInputHandler()
            arenaInputHandler()
            renderPage(page)
        }
        

    </script>
</body>
</html>